<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>surCoin • netCoin</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="surCoin">
<meta property="og:description" content="netCoin">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">netCoin</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.2.20</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
<li>
  <a href="../articles/pkgdown/vignettes/netCoin.html">Quick start</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Vignettes
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/pkgdown/vignettes/surCoin.html">surCoin</a>
    </li>
  </ul>
</li>
<li>
  <a href="../articles/pkgdown/examples/examples.html">Examples</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/Modesto-Escobar/netCoin-1.0">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="surCoin_files/header-attrs-2.3/header-attrs.js"></script><script src="surCoin_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>surCoin</h1>
                        <h4 class="author">Pablo Cabrera-Álvarez and Modesto Escobar</h4>
            
      
      <small class="dont-index">Source: <a href="https://github.com/Modesto-Escobar/netCoin-1.0/blob/master/vignettes/surCoin.Rmd"><code>vignettes/surCoin.Rmd</code></a></small>
      <div class="hidden name"><code>surCoin.Rmd</code></div>

    </div>

    
    
<p>The function <code><a href="../reference/surCoin.html">surCoin()</a></code>, starting from a data frame, generates a list (an object of class <code>netCoin</code>) containing the nodes, links, and options resulting from the coincidence analysis. This object can be plotted to generate an interactive graph.</p>
<div id="loading-data" class="section level1">
<h1 class="hasAnchor">
<a href="#loading-data" class="anchor"></a>Loading data</h1>
<p>For this example we will use the <code>ess</code> sample data which is loaded with the package. This data frame contains a simple random sample of 1,000 people with a small subset of the variables from the 8th round of the <strong>European Social Survey</strong> (ESS) in Europe:</p>
<ol style="list-style-type: decimal">
<li>Gender (female, male).</li>
<li>Age (15-29, 30-39, 40-49, 50-59, 60-69, 70 and more).</li>
<li>Social participation in the last 12 months (yes, no).</li>
<li>Political participation in the last 12 months (yes, no).</li>
<li>Country and probability weight.</li>
</ol>
<div class="sourceCode" id="cb1"><pre class="downlit">
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">ess</span><span class="op">)</span>
<span class="co">#&gt;   Gender      Age Social participation Political participation   cweight</span>
<span class="co">#&gt; 1   Male 70 and +                   No                      No 2.0248654</span>
<span class="co">#&gt; 2   Male    60-69                   No                      No 0.3356693</span>
<span class="co">#&gt; 3 Female 70 and +                   No                      No 1.7896714</span>
<span class="co">#&gt; 4 Female    60-69                  Yes                     Yes 0.3704806</span>
<span class="co">#&gt; 5   Male    15-29                  Yes                      No 0.2881183</span>
<span class="co">#&gt; 6 Female    40-49                   No                      No 0.7965410</span></pre></div>
</div>
<div id="simple-surcoin" class="section level1">
<h1 class="hasAnchor">
<a href="#simple-surcoin" class="anchor"></a>Simple surCoin</h1>
<p>The most simple way to run a <strong>coincidence analysis</strong> is to use <code><a href="../reference/surCoin.html">surCoin()</a></code> including the data and a vector (<code>set</code>) with the names of the variables to be used in the analysis. In this case we add <code>Gender</code>, <code>Age</code>, <code>Social participation</code> and <code>Political participation</code>:</p>
<div class="sourceCode" id="cb2"><pre class="downlit">
<span class="va">set</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Social participation"</span>, <span class="st">"Political participation"</span>, <span class="st">"Gender"</span>, <span class="st">"Age"</span><span class="op">)</span>
<span class="va">essCoin</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/surCoin.html">surCoin</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">ess</span>, variables <span class="op">=</span> <span class="va">set</span><span class="op">)</span>
<span class="va">essCoin</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Nodes(12):</span>
<span class="co">#&gt;                         name        %                variable</span>
<span class="co">#&gt;      Social participation:No 60.08024    Social participation</span>
<span class="co">#&gt;     Social participation:Yes 39.91976    Social participation</span>
<span class="co">#&gt;   Political participation:No 72.21665 Political participation</span>
<span class="co">#&gt;  Political participation:Yes 27.78335 Political participation</span>
<span class="co">#&gt;                Gender:Female 53.56068                  Gender</span>
<span class="co">#&gt;                  Gender:Male 46.43932                  Gender</span>
<span class="co">#&gt; ...</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Links(24):</span>
<span class="co">#&gt;                    Source                      Target  Haberman       p(Z)</span>
<span class="co">#&gt;   Social participation:No  Political participation:No 11.755060 0.00000000</span>
<span class="co">#&gt;   Social participation:No               Gender:Female  1.837566 0.03321192</span>
<span class="co">#&gt;   Social participation:No                   Age:60-69  2.053822 0.02012663</span>
<span class="co">#&gt;   Social participation:No                Age:70 and +  1.673124 0.04730833</span>
<span class="co">#&gt;  Social participation:Yes Political participation:Yes 11.755060 0.00000000</span>
<span class="co">#&gt;  Social participation:Yes                 Gender:Male  1.837566 0.03321192</span>
<span class="co">#&gt; ...</span></pre></div>
<p>An <strong>interactive plot</strong> of the coincidence analysis can be produced using the <code><a href="https://rdrr.io/r/graphics/plot.default.html">plot()</a></code> function. Note that the output is an html page that will open in the default browser.</p>
<div class="sourceCode" id="cb3"><pre class="downlit">
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">essCoin</span><span class="op">)</span></pre></div>
<p><img src="ess-a.png" width="98%"></p>
</div>
<div id="customising-surcoin" class="section level1">
<h1 class="hasAnchor">
<a href="#customising-surcoin" class="anchor"></a>Customising surCoin</h1>
<div id="dealing-with-dichotomous-variables" class="section level2">
<h2 class="hasAnchor">
<a href="#dealing-with-dichotomous-variables" class="anchor"></a>Dealing with dichotomous variables</h2>
<p>For binary variables we may want to <strong>represent only one category</strong> and hide the counterpart. For instance, the variable about social participation (<code>Social participation</code>) has two categories and we want just to represent the cases who have participated socially:</p>
<div class="sourceCode" id="cb4"><pre class="downlit">
<span class="va">essCoin</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/surCoin.html">surCoin</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">ess</span>, 
                    variables <span class="op">=</span> <span class="va">set</span>,
                    dichotomies <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Social participation"</span>, <span class="st">"Political participation"</span><span class="op">)</span>,
                    valueDicho <span class="op">=</span> <span class="st">"Yes"</span>
                    <span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">essCoin</span><span class="op">)</span></pre></div>
<p><img src="ess-b.png" width="98%"></p>
</div>
<div id="analysis-and-stats" class="section level2">
<h2 class="hasAnchor">
<a href="#analysis-and-stats" class="anchor"></a>Analysis and stats</h2>
<p><code><a href="../reference/surCoin.html">surCoin()</a></code> allows for the use of <strong>weights</strong>. Also different <strong>procedures</strong> can be used to assess the strength of the coincidences, the default is <code>haberman</code> or adjusted residuals. A full list of the measures available can be found in the function specification. In this case we will set the weight to <code>cweight</code> and ask for three different measures: frequencies (<code>f</code>), Conditional relative frequencies (<code>i</code>) and adjusted residuals (<code>h</code>).</p>
<div class="sourceCode" id="cb5"><pre class="downlit">
<span class="va">essCoin</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/surCoin.html">surCoin</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">ess</span>, 
                    variables <span class="op">=</span> <span class="va">set</span>,
                    dichotomies <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Social participation"</span>, <span class="st">"Political participation"</span><span class="op">)</span>,
                    valueDicho <span class="op">=</span> <span class="st">"Yes"</span>,
                    weight <span class="op">=</span> <span class="st">"cweight"</span>,
                    procedures <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"f"</span>, <span class="st">"i"</span>, <span class="st">"h"</span><span class="op">)</span>,
                    <span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">essCoin</span><span class="op">)</span></pre></div>
<p><img src="ess-c.png" width="98%"></p>
</div>
<div id="output" class="section level2">
<h2 class="hasAnchor">
<a href="#output" class="anchor"></a>Output</h2>
<p>Some aspects of the <strong>output can be customised</strong>, for example, we may want to use the argument <code>exogenous</code> to exclude the relationships amongst the categories of a variable or supress those categories without any relation with others with the argument <code>degreeFilter</code>. In this case we will set gender (<code>Gender</code>) and age (<code>Age</code>) as exogenous.</p>
<div class="sourceCode" id="cb6"><pre class="downlit">
<span class="va">essCoin</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/surCoin.html">surCoin</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">ess</span>, 
                    variables <span class="op">=</span> <span class="va">set</span>,
                    dichotomies <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Social participation"</span>, <span class="st">"Political participation"</span><span class="op">)</span>,
                    valueDicho <span class="op">=</span> <span class="st">"Yes"</span>,
                    weight <span class="op">=</span> <span class="st">"cweight"</span>,
                    procedures <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"f"</span>, <span class="st">"i"</span>, <span class="st">"h"</span><span class="op">)</span>,
                    exogenous <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Gender"</span>, <span class="st">"Age"</span><span class="op">)</span>,
                    degreeFilter <span class="op">=</span> <span class="fl">1</span>,
                    <span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">essCoin</span><span class="op">)</span></pre></div>
<p><img src="ess-d.png" width="98%"></p>
</div>
</div>
<div id="using-netcoin-to-enhance-output" class="section level1">
<h1 class="hasAnchor">
<a href="#using-netcoin-to-enhance-output" class="anchor"></a>Using netCoin to enhance output</h1>
<p>To customise the coincidence analysis you can use any of the <code><a href="../reference/netCoin.html">netCoin()</a></code> arguments. Even more you can use the netCoin function with the previous <code>essCoin</code> object as input, instead of <code>data</code> and <code>variables</code>. For instance, we may want to use the aesthetics color to differentiate the nodes. Each node will take a different fill color if we set the argument <code>color</code> to the variable <code>"name"</code>. In addition, we can also establish the size of the nodes based on the relative freqencies, to do this the argument size must equal <code>"%"</code> The variable <code>name</code> in the nodes dataset refers to the name of each node, a combination of the variable name and the category. You can access the nodes data frame from the surCoin object:</p>
<div class="sourceCode" id="cb7"><pre class="downlit">
<span class="va">essCoin</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/netCoin.html">netCoin</a></span><span class="op">(</span><span class="va">essCoin</span>, 
                    color <span class="op">=</span> <span class="st">"variable"</span>,
                    size <span class="op">=</span> <span class="st">"%"</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="va">essCoin</span><span class="op">$</span><span class="va">nodes</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span>,<span class="op">]</span>, row.names<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span>

<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">essCoin</span><span class="op">)</span></pre></div>
<div id="differentiate-variables-using-netcoin-aesthetics" class="section level2">
<h2 class="hasAnchor">
<a href="#differentiate-variables-using-netcoin-aesthetics" class="anchor"></a>Differentiate variables using netCoin aesthetics</h2>
<p>You may want to differentiate the nodes from their degree using an aesthetics like color or shape. To do this we need to write “degree” in the aesthetics, as the column <code>degree</code> is present automatically in the nodes dataset.</p>
<div class="sourceCode" id="cb8"><pre class="downlit">
<span class="va">essCoin</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/netCoin.html">netCoin</a></span><span class="op">(</span><span class="va">essCoin</span>, 
                    shape <span class="op">=</span> <span class="st">"degree"</span><span class="op">)</span>

<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">essCoin</span><span class="op">)</span></pre></div>
<p><img src="ess-f.png" width="98%"></p>
</div>
</div>
<div id="save-and-transform-surcoin" class="section level1">
<h1 class="hasAnchor">
<a href="#save-and-transform-surcoin" class="anchor"></a>Save and transform surCoin</h1>
<p>You may want to save the output of <code><a href="../reference/surCoin.html">surCoin()</a></code> or transform the object to be used in igraph.</p>
<div id="save-output" class="section level2">
<h2 class="hasAnchor">
<a href="#save-output" class="anchor"></a>Save output</h2>
<p>To <strong>save the output</strong> we use the argument <code>dir</code> to set the directory where we want the html page to be stored.</p>
<div class="sourceCode" id="cb9"><pre class="downlit">
<span class="va">essCoin</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/netCoin.html">netCoin</a></span><span class="op">(</span><span class="va">essCoin</span>, 
                    dir <span class="op">=</span> <span class="st">"./temp/ess/"</span>
                    <span class="op">)</span></pre></div>
</div>
<div id="export-as-an-igraph-object" class="section level2">
<h2 class="hasAnchor">
<a href="#export-as-an-igraph-object" class="anchor"></a>Export as an igraph object</h2>
<p>Finally, if you wanted to generate an <strong>igraph object</strong> , you could use the function <code>toIgraph</code> applied to the <code>netCoin</code> object, named <code>essCoin</code> in this example.</p>
<div class="sourceCode" id="cb10"><pre class="downlit">
<span class="va">essCoin.igraph</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/toIgraph.html">toIgraph</a></span><span class="op">(</span><span class="va">essCoin</span><span class="op">)</span></pre></div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Modesto Escobar.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
